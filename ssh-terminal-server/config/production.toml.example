# 生产环境配置 - PostgreSQL 数据库

[server]
host = "0.0.0.0"            # 服务器监听地址（0.0.0.0=允许所有网络访问）
port = 3000                   # 服务器监听端口（确保防火墙已开放）

[database]
database_type = "postgresql"  # 数据库类型：sqlite/mysql/postgresql
host = "localhost"            # PostgreSQL 服务器地址
port = 5432                   # PostgreSQL 端口（默认 5432）
user = "postgres"              # PostgreSQL 用户名（请创建专用用户）
password = "postgres"          # PostgreSQL 密码（请修改为强密码）
database = "ssh_terminal_server"   # 数据库名称（不存在会自动创建）
max_connections = 20          # 最大连接数（生产环境建议 20-100）

[auth]
jwt_secret = "9f7d3c7a564dfkopp26smb2644nqzfvbsao9f7d3c7a1a8f28544b5e6d7a"  # JWT 签名密钥（必须修改为强随机字符串！）
access_token_expiration_minutes = 15            # Access Token 过期时间（分钟）
refresh_token_expiration_days = 7             # Refresh Token 过期时间（天）

[redis]
host = "localhost"           # Redis 服务器地址
port = 6379                   # Redis 端口（默认 6379）
password = ""                  # Redis 密码（强烈建议设置密码）
db = 0                         # Redis 数据库编号（0-15）

[email]
# ==================== 邮件配置 ====================
# 邮件功能用于发送验证码、通知等

# 是否启用邮件功能
# - false: 不启用邮件验证，用户注册时无需验证码
# - true: 启用邮件验证，用户注册时必须输入验证码
# ⚠️ 生产环境建议启用，以提高账户安全性
enabled = false

# SMTP 服务器配置
# 常用 SMTP 服务器：
# - 163邮箱: smtp.163.com, 端口 465 (SSL) 或 994 (SSL)
# - QQ邮箱: smtp.qq.com, 端口 465 (SSL) 或 587 (STARTTLS)
# - Gmail: smtp.gmail.com, 端口 587 (STARTTLS) 或 465 (SSL)
# - Outlook: smtp-mail.outlook.com, 端口 587 (STARTTLS)
# - 企业邮箱: 请咨询邮件服务提供商
smtp_host = "smtp.gmail.com"
smtp_port = 587

# SMTP 认证信息
# ⚠️ 注意：对于 QQ/163 等邮箱，需要使用"授权码"而不是登录密码
# 获取方式：邮箱设置 -> 账户 -> POP3/SMTP 服务 -> 生成授权码
# Gmail 需要启用"两步验证"并生成"应用专用密码"
smtp_username = "your-email@gmail.com"
smtp_password = "your-app-password"

# 发件人信息
# from_name: 显示的发件人名称
# from_email: 发件人邮箱地址（必须与 smtp_username 一致）
from_name = "SSH Terminal"
from_email = "your-email@gmail.com"

# Worker 配置（仅异步模式使用）
# worker_pool_size: 并发发送邮件的最大数量（生产环境建议 10-20）
# worker_timeout_seconds: 单个邮件发送超时时间（秒）
worker_pool_size = 10
worker_timeout_seconds = 10

# 安全检查清单：部署前请确认
# ✅ 1. 已修改 jwt_secret 为强随机字符串
# ✅ 2. 已修改数据库密码为强密码
# ✅ 3. 已设置 Redis 密码
# ✅ 4. 已配置防火墙规则
# ✅ 5. 已启用 HTTPS（使用 Nginx/Caddy 等反向代理）
# ✅ 6. 已设置数据库定期备份
# ✅ 7. 已配置 SMTP 服务并使用应用密码
