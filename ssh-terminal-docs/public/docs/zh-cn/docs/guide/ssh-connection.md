# SSH 连接管理

本指南将帮助你深入了解 SSH 连接的高级配置和管理功能。

---

## 连接配置详解

### 基本配置

创建 SSH 连接时，需要填写以下基本信息：

- **主机地址** - 服务器 IP 地址或域名
- **端口** - SSH 端口（默认 22）
- **用户名** - 登录用户名
- **认证方式** - 选择密码或密钥认证
- **密码或私钥** - 输入密码或者私钥路径


### 认证方式

SSH Terminal 支持两种认证方式：

#### 密码认证
最简单直接的认证方式，只需输入登录密码即可。

**注意事项：**
- 密码会使用 AES-256-GCM 加密存储
- 首次连接时会提示验证主机密钥

#### 密钥认证
更安全的认证方式，使用 SSH 密钥对进行身份验证。

**配置步骤：**
1. 在认证方式中选择"密钥"
2. 点击"选择密钥文件"按钮
3. 选择你的私钥文件（如 `id_rsa` 或 `id_ed25519`）
4. 如果密钥有密码保护，需要输入密钥密码

**密钥文件格式：**
- 支持 OpenSSH 格式
- 支持 PEM 格式
- 支持 PKCS8 格式

---

## 高级配置

### 终端类型

终端类型指定了服务器期望的终端模拟器类型。常用选项：
- **xterm-256color** - 支持 256 色，推荐使用
- **xterm** - 标准的 xterm 终端
- **vt100** - 兼容性最好的终端类型

大多数情况下使用默认的 `xterm-256color` 即可。

### 保持连接

为了防止长时间无操作导致连接断开，可以启用保持连接功能。

- **保持连接间隔** - 发送心跳包的时间间隔（秒）
- 默认值：30 秒
- 建议值：30-60 秒

如果网络不稳定，可以适当减小间隔时间。


### 终端尺寸

你可以自定义终端的列数和行数，以适应不同的屏幕尺寸和使用需求。

- **列数** - 终端宽度，默认 80 列
- **行数** - 终端高度，默认 24 行

这些设置会影响服务器端程序的显示效果。

---

## 会话管理

### 创建会话

在会话管理页面点击"新建会话"按钮，填写连接信息后点击"保存"。会话将被保存到本地数据库，可以在任何时间重新连接。

### 编辑会话

在会话列表中找到要编辑的会话，点击编辑按钮即可修改配置。修改后立即生效，无需重新创建连接。

### 删除会话

选中要删除的会话，点击删除按钮。注意：
- 删除会话不会影响当前已建立的连接
- 删除操作不可恢复，请谨慎操作

### 会话分组

为了更好地管理大量服务器，你可以将相关的会话分组。

**创建分组：**
1. 在创建或编辑会话时，填写"分组"字段
2. 输入分组名称（如"生产环境"、"测试环境"）
3. 会话将按照分组在列表中显示

**默认分组：**
- 未指定分组的会话会自动归入"默认分组"

---

## 快速连接与会话管理

### 快速连接

快速连接适合临时使用的场景：
- 不会保存连接配置
- 连接关闭后无法快速恢复
- 适合一次性操作

### 会话管理

会话管理适合经常使用的服务器：
- 配置持久化保存到数据库
- 可以随时重新连接
- 支持分组管理
- 可以编辑和删除

**选择建议：**
- 临时访问或测试 → 使用快速连接
- 经常使用的服务器 → 创建会话

---

## 连接状态

### 状态类型

会话列表中会显示每个会话的连接状态：

- **已连接** - 绿色图标，表示连接正常
- **未连接** - 灰色图标，表示未建立连接
- **连接中** - 黄色图标，表示正在建立连接
- **连接失败** - 红色图标，表示连接失败

### 连接管理

- **连接** - 点击会话卡片上的连接按钮建立连接
- **断开** - 点击断开按钮终止连接
- **重新连接** - 断开后可以快速重新连接

---

## 常见问题

### 连接超时

如果连接超时，请检查：
- 服务器地址和端口是否正确
- 网络连接是否正常
- 防火墙是否允许 SSH 连接
- 服务器 SSH 服务是否运行

### 认证失败

如果认证失败，请检查：
- 用户名是否正确
- 密码或密钥是否正确
- 密钥文件格式是否支持
- 密钥权限是否正确

### 主机密钥警告

如果出现主机密钥警告，可能原因：
- 服务器重新安装了 SSH 服务
- 中间人攻击（安全风险）

建议：
- 确认服务器状态后再决定是否继续
- 联系服务器管理员确认

---

## 下一步

现在你已经掌握了 SSH 连接管理，可以继续学习：

- [基础教程](/docs/guide/basics) - 回顾基础操作
- [AI 智能助手](/docs/guide/ai-assistant) - 使用 AI 助手提升效率
- [SFTP 文件管理](/docs/guide/sftp) - 管理远程文件
- [云同步](/docs/guide/cloud-sync) - 同步会话到云端
